<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block titulo %}Herramientas IA{% endblock %}</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
        crossorigin="anonymous">
</head>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-light bg-white mb-4 shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold text-primary" href="{% url 'lista_herramientas' %}">Herramientas IA</a>
        </div>
    </nav>
    <div class="container">
        {% block contenido %}{% endblock %}
    </div>
    <!-- Bootstrap JS (opcional, para componentes interactivos) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    {% if request.cookie_consent != 'accepted' %}
    <!-- Modal Bootstrap -->
    <div class="modal fade" id="cookieConsentModal" tabindex="-1" aria-labelledby="cookieConsentLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="cookieConsentLabel">Consentimiento de Cookies</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
                <p>Este sitio utiliza cookies funcionales necesarias para su correcto funcionamiento. ¿Aceptas su uso?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-success" onclick="acceptCookies()" data-bs-dismiss="modal">Aceptar cookies</button>
            </div>
            </div>
        </div>
    </div>

    <script>
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }

        function acceptCookies() {
            // Guardar la cookie por 1 año
            document.cookie = "cookie_consent=accepted; path=/; max-age=" + 60 * 60 * 24 * 365;
        }

        window.addEventListener('load', function() {
            if (!getCookie('cookie_consent')) {
            var cookieModal = new bootstrap.Modal(document.getElementById('cookieConsentModal'));
            cookieModal.show();
            }
        });
    </script>
    {% endif %}

</body>
<footer style="
    background-color: #f1f1f1;
    padding: 20px 0;
    text-align: center;
    font-size: 14px;
    color: #666;
    margin-top: 40px;
    border-top: 1px solid #ddd;
">
    <p>
        © 2025 Herramientas IA — 
        <a href="{% url 'aviso_privacidad' %}" style="color: #0077cc; text-decoration: none;">
            Aviso de Privacidad
        </a>
    </p>
</footer>
</html> 